#pragma checksum "D:\SSP_CSKH\Source\CSKH_SSP\CSKH_SSP\Views\Categories\Index.cshtml" "{ff1816ec-aa5e-4d10-87f7-6f4963833460}" "5247fd9e80cf62d4589507ca12a2f527a7a70c73"
// <auto-generated/>
#pragma warning disable 1591
[assembly: global::Microsoft.AspNetCore.Razor.Hosting.RazorCompiledItemAttribute(typeof(AspNetCore.Views_Categories_Index), @"mvc.1.0.view", @"/Views/Categories/Index.cshtml")]
namespace AspNetCore
{
    #line hidden
    using System;
    using System.Collections.Generic;
    using System.Linq;
    using System.Threading.Tasks;
    using Microsoft.AspNetCore.Mvc;
    using Microsoft.AspNetCore.Mvc.Rendering;
    using Microsoft.AspNetCore.Mvc.ViewFeatures;
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"5247fd9e80cf62d4589507ca12a2f527a7a70c73", @"/Views/Categories/Index.cshtml")]
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"57218c316b6921e2cd61027a2387edc31a2d9471", @"/Views/_ViewImports.cshtml")]
    public class Views_Categories_Index : global::Microsoft.AspNetCore.Mvc.Razor.RazorPage<List<CSKH_SSP.DataModels.Category>>
    {
        #pragma warning disable 1998
        public async override global::System.Threading.Tasks.Task ExecuteAsync()
        {
#nullable restore
#line 3 "D:\SSP_CSKH\Source\CSKH_SSP\CSKH_SSP\Views\Categories\Index.cshtml"
  
    Layout = null;

#line default
#line hidden
#nullable disable
            WriteLiteral("\r\n");
#nullable restore
#line 8 "D:\SSP_CSKH\Source\CSKH_SSP\CSKH_SSP\Views\Categories\Index.cshtml"
  
    var parent = Model.Where(x => x.ParentId == null && x.isActive != false);
    var child = Model.Where(x => x.ParentId != null && x.isActive != false);


#line default
#line hidden
#nullable disable
            WriteLiteral(@"<style>
    .categorySelected {
        background-color: #cecece96
    }
</style>

<!-- Modal -->
<div class=""modal fade"" id=""addParentCategory"" tabindex=""-1"" role=""dialog"" aria-labelledby=""exampleModalLabel"" aria-hidden=""true"">
    <div class=""modal-dialog"" role=""document"">
        <div class=""modal-content"">
            <div class=""modal-header"">
                <h5 class=""modal-title"" id=""exampleModalLabel"">Thêm Danh mục</h5>
                <button type=""button"" class=""close"" data-dismiss=""modal"" aria-label=""Close"">
                    <span aria-hidden=""true"">&times;</span>
                </button>
            </div>
            <div class=""modal-body"">
                <h6 class=""card-subtitle"">Nhập tên danh mục cha</h6>
                <div class=""form-group mb-0"">
                    <input type=""text"" class=""form-control"" name=""CategoryName"" id=""CategoryName"" placeholder=""Tên danh mục cha"">
                </div>
            </div>
            <div class=""modal-footer"">
      ");
            WriteLiteral(@"          <button type=""button"" class=""btn btn-secondary"" id=""modalClose"" data-dismiss=""modal"">Close</button>
                <button type=""button"" class=""btn btn-primary"" onclick=""submitForm()"">Thêm</button>
            </div>
        </div>
    </div>
</div>


<div class=""modal fade"" id=""addChildCategory"" tabindex=""-1"" role=""dialog"" aria-labelledby=""exampleModalLabel"" aria-hidden=""true"">
    <div class=""modal-dialog"" role=""document"">
        <div class=""modal-content"">
            <div class=""modal-header"">
                <h5 class=""modal-title"" id=""exampleModalLabel"">Thêm Danh mục con</h5>
                <button type=""button"" class=""close"" data-dismiss=""modal"" aria-label=""Close"">
                    <span aria-hidden=""true"">&times;</span>
                </button>
            </div>
            <div class=""modal-body"">
                <h6 class=""card-subtitle"">Nhập tên danh mục con</h6>
                <div class=""form-group mb-0"">
                    <input type=""text"" class=""form-co");
            WriteLiteral(@"ntrol"" name=""CategoryChildName"" id=""CategoryChildName"" placeholder=""Tên danh mục con"">
                </div>
                <br>
                  <h6 class=""card-subtitle"">Deadline Response  (giờ)</h6>
                <div class=""form-group mb-0"">
                    <input type=""number"" value=""16"" class=""form-control"" name=""hoursDeadline"" id=""hoursDeadline"" >
                </div>
                   <br>
                <h6 class=""card-subtitle"">Deadline Resolve (giờ)</h6>
                <div class=""form-group mb-0"">
                    <input type=""number"" value=""16"" class=""form-control"" name=""HoursResolve"" id=""HoursResolve"" >
                </div>


                
            </div>
            <div class=""modal-footer"">
                <button type=""button"" class=""btn btn-secondary"" id=""modalClose"" data-dismiss=""modal"">Close</button>
                <button type=""button"" class=""btn btn-primary"" onclick=""submitFormChildCategory()"">Thêm</button>
            </div>
        </div>");
            WriteLiteral(@"
    </div>
</div>

<div class=""media-body"" style=""display: flex;min-width: 0;margin-left: -5px !important;margin-right: 10px !important;"">
    <div class=""col-12"" style=""padding-right: 0px !important"">
        <button class=""btn btn-link"" type=""button"" data-toggle=""modal"" data-target=""#addParentCategory"">
            <i class=""feather icon-calendar mr-2""></i>Thêm danh mục cha
        </button>
    </div>
</div>

");
#nullable restore
#line 88 "D:\SSP_CSKH\Source\CSKH_SSP\CSKH_SSP\Views\Categories\Index.cshtml"
 foreach (var item in parent)
{

#line default
#line hidden
#nullable disable
            WriteLiteral("    <div class=\"media-body\" style=\"display: flex;min-width: 0;margin-left: -5px !important;margin-right: 10px !important;\">\r\n        <div class=\"col-12\" style=\"padding-right: 0px !important\">\r\n            <div class=\"accordion accordion-outline\"");
            BeginWriteAttribute("id", " id=\"", 4109, "\"", 4130, 1);
#nullable restore
#line 92 "D:\SSP_CSKH\Source\CSKH_SSP\CSKH_SSP\Views\Categories\Index.cshtml"
WriteAttributeValue("", 4114, item.IDCategory, 4114, 16, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(">\r\n                <div class=\"card\">\r\n                    <div class=\"card-header\" id=\"headingTwooutline\">\r\n                        <div class=\"mb-0 p-2\" style=\"display: flex;  justify-content: space-between;\">\r\n                            <button");
            BeginWriteAttribute("onclick", "  onclick=\"", 4379, "\"", 4428, 3);
            WriteAttributeValue("", 4390, "loadCategoryDetail(\'", 4390, 20, true);
#nullable restore
#line 96 "D:\SSP_CSKH\Source\CSKH_SSP\CSKH_SSP\Views\Categories\Index.cshtml"
WriteAttributeValue("", 4410, item.IDCategory, 4410, 16, false);

#line default
#line hidden
#nullable disable
            WriteAttributeValue("", 4426, "\')", 4426, 2, true);
            EndWriteAttribute();
            WriteLiteral(" style=\"color :black\" class=\"btn btn-link collapsed\" type=\"button\" data-toggle=\"collapse\" data-target=\"#pr-");
#nullable restore
#line 96 "D:\SSP_CSKH\Source\CSKH_SSP\CSKH_SSP\Views\Categories\Index.cshtml"
                                                                                                                                                                                           Write(item.IDCategory);

#line default
#line hidden
#nullable disable
            WriteLiteral("\" aria-expanded=\"false\"\r\n                                aria-controls=\"collapseTwooutline\">\r\n                                <i class=\"feather icon-calendar mr-2\"></i>");
#nullable restore
#line 98 "D:\SSP_CSKH\Source\CSKH_SSP\CSKH_SSP\Views\Categories\Index.cshtml"
                                                                     Write(item.CategoryName);

#line default
#line hidden
#nullable disable
            WriteLiteral("\r\n                            </button>\r\n                            <a");
            BeginWriteAttribute("onclick", " onclick=\"", 4809, "\"", 4853, 3);
            WriteAttributeValue("", 4819, "removeCategory(\'", 4819, 16, true);
#nullable restore
#line 100 "D:\SSP_CSKH\Source\CSKH_SSP\CSKH_SSP\Views\Categories\Index.cshtml"
WriteAttributeValue("", 4835, item.IDCategory, 4835, 16, false);

#line default
#line hidden
#nullable disable
            WriteAttributeValue("", 4851, "\')", 4851, 2, true);
            EndWriteAttribute();
            WriteLiteral(" class=\"btn btn-link collapsed\">\r\n                                Xóa\r\n                            </a>\r\n                        </div>\r\n                    </div>\r\n                    <div");
            BeginWriteAttribute("id", " id=\"", 5043, "\"", 5067, 2);
            WriteAttributeValue("", 5048, "pr-", 5048, 3, true);
#nullable restore
#line 105 "D:\SSP_CSKH\Source\CSKH_SSP\CSKH_SSP\Views\Categories\Index.cshtml"
WriteAttributeValue("", 5051, item.IDCategory, 5051, 16, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(" class=\"collapse\" aria-labelledby=\"headingTwooutline\" data-parent=\"#");
#nullable restore
#line 105 "D:\SSP_CSKH\Source\CSKH_SSP\CSKH_SSP\Views\Categories\Index.cshtml"
                                                                                                                Write(item.IDCategory);

#line default
#line hidden
#nullable disable
            WriteLiteral(@""">
                        <div class=""card-body"" style=""padding: 1.25rem 0"">
                            <div class=""media border-bottom border-top border-gray"" style=""cursor: pointer;"">
                                <div class=""media-body m-3"" style=""display: flex;min-width: 0;margin-left: -5px !important;margin-right: 10px !important;"">
                                    <div class=""col-12"" style=""padding-right: 0px !important;display: flex ; justify-content: center;"">
                                        <div style=""display: flex; min-width: 0"">
                                            <div ");
            WriteLiteral(" style=\"margin-top: 4px;\">\r\n                                                <button class=\"btn btn-link\" type=\"button\"");
            BeginWriteAttribute("onclick", " onclick=\"", 5907, "\"", 5961, 3);
            WriteAttributeValue("", 5917, "setCurrentCategoryParent(\'", 5917, 26, true);
#nullable restore
#line 112 "D:\SSP_CSKH\Source\CSKH_SSP\CSKH_SSP\Views\Categories\Index.cshtml"
WriteAttributeValue("", 5943, item.IDCategory, 5943, 16, false);

#line default
#line hidden
#nullable disable
            WriteAttributeValue("", 5959, "\')", 5959, 2, true);
            EndWriteAttribute();
            WriteLiteral(@" data-toggle=""modal"" data-target=""#addChildCategory"">
                                                    <i class=""feather icon-calendar mr-2""></i>Thêm danh mục con
                                                </button>
                                            </div>
                                        </div>

                                    </div>
                                </div>
                            </div>

");
#nullable restore
#line 122 "D:\SSP_CSKH\Source\CSKH_SSP\CSKH_SSP\Views\Categories\Index.cshtml"
                             foreach (var i in child)
                            {
                                if (i.ParentId == item.IDCategory)
                                {

#line default
#line hidden
#nullable disable
            WriteLiteral("                                    <div class=\"media border-bottom border-top border-gray categoryCard\"");
            BeginWriteAttribute("id", " id=\"", 6706, "\"", 6738, 2);
            WriteAttributeValue("", 6711, "categoryChild-", 6711, 14, true);
#nullable restore
#line 126 "D:\SSP_CSKH\Source\CSKH_SSP\CSKH_SSP\Views\Categories\Index.cshtml"
WriteAttributeValue("", 6725, i.IDCategory, 6725, 13, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(" style=\"cursor: pointer;\"");
            BeginWriteAttribute("onclick", "\r\n                             onclick=\"", 6764, "\"", 6839, 3);
            WriteAttributeValue("", 6804, "loadCategoryDetail(\'", 6804, 20, true);
#nullable restore
#line 127 "D:\SSP_CSKH\Source\CSKH_SSP\CSKH_SSP\Views\Categories\Index.cshtml"
WriteAttributeValue("", 6824, i.IDCategory, 6824, 13, false);

#line default
#line hidden
#nullable disable
            WriteAttributeValue("", 6837, "\')", 6837, 2, true);
            EndWriteAttribute();
            WriteLiteral(@">

                                        <div class=""media-body m-3"" style=""display: flex;min-width: 0;margin-left: -5px !important;margin-right: 10px !important;"">
                                            <div class=""col-12"" style=""padding-right: 0px !important;display: flex ; justify-content: space-between;"">

                                                <div style=""display: flex; min-width: 0"">
                                                    <div ");
            WriteLiteral(" style=\"margin-top: 4px\">\r\n                                                        <a class=\"alert-link\">");
#nullable restore
#line 134 "D:\SSP_CSKH\Source\CSKH_SSP\CSKH_SSP\Views\Categories\Index.cshtml"
                                                                         Write(i.CategoryName);

#line default
#line hidden
#nullable disable
            WriteLiteral(@" </a>
                                                    </div>
                                                </div>
                                                <strong class=""float-right mt-0"" style=""font-size: 14px"">
                                                    <a");
            BeginWriteAttribute("onclick", " onclick=\"", 7736, "\"", 7777, 3);
            WriteAttributeValue("", 7746, "removeCategory(\'", 7746, 16, true);
#nullable restore
#line 138 "D:\SSP_CSKH\Source\CSKH_SSP\CSKH_SSP\Views\Categories\Index.cshtml"
WriteAttributeValue("", 7762, i.IDCategory, 7762, 13, false);

#line default
#line hidden
#nullable disable
            WriteAttributeValue("", 7775, "\')", 7775, 2, true);
            EndWriteAttribute();
            WriteLiteral(@" class=""btn btn-link collapsed"">
                                                        Xóa
                                                    </a>
                                                </strong>
                                            </div>
                                        </div>
                                    </div>
");
#nullable restore
#line 145 "D:\SSP_CSKH\Source\CSKH_SSP\CSKH_SSP\Views\Categories\Index.cshtml"
                                }
                            }

#line default
#line hidden
#nullable disable
            WriteLiteral(@"                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <script>
                    $(document).ready(function () {
                $('.categoryCard').click(function () {
                    $('.categoryCard').removeClass('categorySelected');
                    $(this).addClass('categorySelected');
                });

            });

            var idCategoryParent = """";

            function setCurrentCategoryParent(id){
                idCategoryParent = id;
            }

             function submitForm() {
                var v = $(""#CategoryName"").val();
                $.post(""");
#nullable restore
#line 170 "D:\SSP_CSKH\Source\CSKH_SSP\CSKH_SSP\Views\Categories\Index.cshtml"
                   Write(Url.Action("AddParentCategory", "Categories"));

#line default
#line hidden
#nullable disable
            WriteLiteral(@""",
                        {
                            CategoryName: v
                        },
                        function (data, status) {
                            if (data == ""1"") {
                                 alert(""Thêm thành công"")
                                  $("".close"").click();
                                  $('.modal-backdrop').remove();
                                loadCategory()
                            } else {
                                alert(""Lỗi"");
                                $("".close"").click();
                                $('.modal-backdrop').remove();
                            }
                        });
        };

        function submitFormChildCategory() {
                var v = $(""#CategoryChildName"").val();
                var pr = idCategoryParent;
                var hour = $(""#hoursDeadline"").val();

                
                $.post(""");
#nullable restore
#line 194 "D:\SSP_CSKH\Source\CSKH_SSP\CSKH_SSP\Views\Categories\Index.cshtml"
                   Write(Url.Action("AddParentCategory", "Categories"));

#line default
#line hidden
#nullable disable
            WriteLiteral(@""",
                        {
                            ParentId : pr,
                            CategoryName: v,
                            HoursDeadline : hour,
                        },
                        function (data, status) {
                            if (data == ""1"") {
                                 alert(""Thêm thành công"")
                                  $("".close"").click();
                                  $('.modal-backdrop').remove();
                                loadCategory();
                                idCategoryParent = """";
                            } else {
                                alert(""Lỗi"");
                                $("".close"").click();
                                $('.modal-backdrop').remove();
                            }
                        });
        };

        function removeCategory(id) {

                $.post(""");
#nullable restore
#line 217 "D:\SSP_CSKH\Source\CSKH_SSP\CSKH_SSP\Views\Categories\Index.cshtml"
                   Write(Url.Action("RemoveCategory", "Categories"));

#line default
#line hidden
#nullable disable
            WriteLiteral(@""",
                        {
                            Id: id
                        },
                        function (data, status) {
                            if (data == ""1"") {
                                 alert(""Xóa thành công"")
                                  $("".close"").click();
                                  $('.modal-backdrop').remove();
                                loadCategory()
                            } else {
                                alert(""Lỗi"");
                                $("".close"").click();
                                $('.modal-backdrop').remove();
                            }
                        });
        };

    </script>
");
#nullable restore
#line 236 "D:\SSP_CSKH\Source\CSKH_SSP\CSKH_SSP\Views\Categories\Index.cshtml"
}

#line default
#line hidden
#nullable disable
            WriteLiteral(" ");
        }
        #pragma warning restore 1998
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.ViewFeatures.IModelExpressionProvider ModelExpressionProvider { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IUrlHelper Url { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IViewComponentHelper Component { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IJsonHelper Json { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IHtmlHelper<List<CSKH_SSP.DataModels.Category>> Html { get; private set; }
    }
}
#pragma warning restore 1591
